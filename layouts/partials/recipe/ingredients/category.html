{{ if and .ingredients (ge (len .ingredients) 1) }}
    <li class="list-group-item">
        <h5 class="text-primary">{{ .categoryName }}</h5>
        <ul class="list-group list-group-flush">
            {{ $ingredientLabels := .ingredientLabels }}
            {{ $links := .links }}
            {{ $pageTitle := .pageTitle }}
            {{ range .ingredients }}
                {{ if not (isset $ingredientLabels .) }}
                    {{ errorf "No label found for ingredient %s in recipe %s" . $pageTitle }}
                {{ end }}
                <li class="list-group-item">
                    {{ $label := index $ingredientLabels . }}
                    {{ if isset $links . }}
                        {{ $ingredient_link := index $links . }}
                        {{ range page.GetTerms "ingredients" }}
                            {{ if eq .Data.Term $ingredient_link }}
                                <a href="{{ .RelPermalink }}">{{ $label }}</a>
                            {{ end }}
                        {{ end }}
                    {{ else }}
                        {{ $label }}
                    {{ end }}
                </li>
            {{ end }}
        </ul>
    </li>
{{ end }}